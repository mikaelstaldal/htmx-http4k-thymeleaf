<!--/*@thymesVar id="model" type="nu.staldal.htmxhttp4kthymeleaf.Contacts2Rows"*/-->
<tr data-th-each="contact : ${model.contacts}">
    <td data-th-text="${contact.firstName}">Joe Smith</td>
    <td data-th-text="${contact.lastName}">Joe Smith</td>
    <td data-th-text="${contact.phone}">070-12345678</td>
    <td data-th-text="${contact.email}">joe@smith.org</td>
    <td><a data-th-href="${'/contacts2/' + contact.id + '/edit'}">Edit</a> <a
            data-th-href="${'/contacts2/' + contact.id}">View</a> <a
            href="#"
            data-th-attr="data-hx-delete=${'/contacts2/' + contact.id}"
            data-hx-confirm="Are you sure you want to delete this contact?"
            data-hx-swap="outerHTML swap:1s"
            data-hx-target="closest tr"
    >Delete</a>
    </td>
</tr>
<tr data-th-if="${model.contacts.size() eq model.pageSize}">
    <td colspan="5">
        <button
                data-hx-target="closest tr"
                data-hx-swap="outerHTML"
                data-hx-select="tbody > tr"
                data-th-attr="data-hx-get='/contacts2?' + ${(model.q != null)? ('q='+model.q+'&') : ''} + 'page=' + ${model.page + 1}"
        >Load more
        </button>
    </td>
</tr>
<!--/* infinite scroll
<tr data-th-if="${model.contacts.size() eq model.pageSize}">
    <td colspan="5">
        <span data-hx-target="closest tr"
              data-hx-trigger="revealed"
              data-hx-swap="outerHTML"
              data-hx-select="tbody > tr"
              data-th-attr="data-hx-get='/contacts2?page=' + ${model.page + 1}">Loading more...</span>
    </td>
</tr>
*/-->
